<div *ngIf="movie">
    <div class="card media-card">
        <a routerLink="/movies/{{ movie.ID }}">
            <img    class="card-img"
                    width="100%"
                    [attr.src]="movie.Poster"
                    [class.black_and_white]="movie.DeletedAt != null || movie.DownloadingItem.Downloaded || movie.DownloadingItem.Pending || movie.DownloadingItem.Downloading || utils.dateIsInFuture(movie.Date)"
                    [attr.alt]="movie.Title">
            <div class="card-img-overlay text-white font-weight-bold font-italic overlay-yellow"
                 *ngIf="utils.dateIsInFuture(movie.Date)">
                <span>
                    Future release
                </span>
            </div>
            <div class="card-img-overlay text-white font-weight-bold font-italic overlay-blue"
                 *ngIf="movie.DeletedAt == null && (movie.DownloadingItem.DownloadingItem || movie.DownloadingItem.Pending)">
                <span *ngIf="movie.DownloadingItem.Downloading">
                    Downloading
                </span>
                <span *ngIf="movie.DownloadingItem.Pending">
                    Pending
                </span>
            </div>
            <div class="card-img-overlay text-white font-weight-bold font-italic overlay-red"
                 *ngIf="movie.DeletedAt != null">
                <span>
                    Removed
                </span>
            </div>
            <div class="card-img-overlay text-white font-weight-bold font-italic overlay-green"
                 *ngIf="movie.DownloadingItem.Downloaded && movie.DeletedAt == null">
                <span>
                    Downloaded
                </span>
            </div>
        </a>

        <div class="btn-mark">
            <button class="btn float-left text-white"
                    *ngIf="movie.DownloadingItem.Downloaded && movie.DeletedAt == null"
                    (click)="changeDownloadedState(movie, false)">
                <i class="material-icons md-18">cloud_off</i>
            </button>
            <button class="btn float-left text-white"
                    *ngIf="!movie.DownloadingItem.Pending && !movie.DownloadingItem.Downloading && !movie.DownloadingItem.Downloaded && movie.DeletedAt == null"
                    (click)="changeDownloadedState(movie, true)">
                <i class="material-icons md-18">check</i>
            </button>
            <button class="btn float-left text-white ml-1"
                    *ngIf="!movie.DownloadingItem.Downloaded && !movie.DownloadingItem.Downloading && !movie.DownloadingItem.Pending && movie.DeletedAt == null && !config?.System?.AutomaticMovieDownload && !utils.dateIsInFuture(movie.Date)"
                    (click)="downloadMovie(movie.ID)">
                <i class="material-icons md-18">cloud_download</i>
            </button>
        </div>
        <button class="btn btn-delete-item text-white float-right"
                (click)="deleteMovie(movie)"
                *ngIf="movie.DeletedAt == null && !movie.DownloadingItem.Downloaded">
            <i class="material-icons md-18">clear</i>
        </button>
        <button class="btn btn-delete-item text-white float-right"
                (click)="restoreMovie(movie.ID)"
                *ngIf="movie.DeletedAt != null && !movie.DownloadingItem.Downloaded">
            <i class="material-icons md-18">undo</i>
        </button>

    </div>
</div>
